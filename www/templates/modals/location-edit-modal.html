<div class="modal-header">
    <h3 class="modal-title">Add location</h3>
</div>
<div class="modal-body">
    <form name="locationEditForm">
        <label>
            <input type="text" name="name" required ng-model="location.name" ng-model-options="{debounce:1}">
        </label>
        <div ng-messages="locationEditForm.name.$error" role="alert" ng-if="locationEditForm.name.$touched">
            <div ng-message="required">You did not enter a name</div>
        </div>
        <label>
            <input type="text" name="address" ng-blur="updateCoords()" required ng-model="location.address">
        </label>
        <div ng-messages="locationEditForm.address.$error" role="alert" ng-if="locationEditForm.address.$touched">
            <div ng-message="required">You did not enter an address</div>
        </div>
        <label ng-click="chooseCoords()">
            <input name="coordinates" disabled required value="{{location.coordinates | coordinates}}">
        </label>
        <div ng-messages="locationEditForm.coordinates.$error" role="alert" ng-if="locationEditForm.coordinates.$touched">
            <div ng-message="required">you must choose coordinates. Click to open map</div>
        </div>
        <label>
            <select required name="category" ng-model="location.category" ng-options="cat.id as cat.name for cat in categories">
            </select>
        </label>
        <div ng-messages="locationEditForm.category.$error" role="alert" ng-if="locationEditForm.category.$touched">
            <div ng-message="required">You did not choose a category</div>
        </div>
    </form>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-disabled="!locationEditForm.$valid" ng-click="save()">Save</button>
    <button class="btn btn-warning" type="button" ng-click="$dismiss()">Cancel</button>
</div>